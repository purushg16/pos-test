{
  "version": 3,
  "sources": ["../../use-long-press/index.mjs"],
  "sourcesContent": ["import { useRef as s, useCallback as h, useEffect as g } from \"react\";\nvar l = /* @__PURE__ */ ((e) => (e.Mouse = \"mouse\", e.Touch = \"touch\", e.Pointer = \"pointer\", e))(l || {}), d = /* @__PURE__ */ ((e) => (e.CancelledByMovement = \"cancelled-by-movement\", e.CancelledByRelease = \"cancelled-by-release\", e.CancelledOutsideElement = \"cancelled-outside-element\", e))(d || {});\nconst A = () => typeof window == \"object\" ? window?.PointerEvent ?? null : null, z = () => typeof window == \"object\" ? window?.TouchEvent ?? null : null;\nfunction U(e) {\n  const { nativeEvent: t } = e, u = z();\n  return u && t instanceof u || \"touches\" in e;\n}\nfunction X(e) {\n  const t = A();\n  return e.nativeEvent instanceof MouseEvent && !(t && e.nativeEvent instanceof t);\n}\nfunction Y(e) {\n  const { nativeEvent: t } = e;\n  if (!t)\n    return !1;\n  const u = A();\n  return u && t instanceof u || \"pointerId\" in t;\n}\nfunction R(e) {\n  return X(e) || U(e) || Y(e);\n}\nfunction j(e) {\n  return U(e) ? {\n    x: e.touches[0].pageX,\n    y: e.touches[0].pageY\n  } : X(e) || Y(e) ? {\n    x: e.pageX,\n    y: e.pageY\n  } : null;\n}\nfunction G(e) {\n  return {\n    target: e.target,\n    currentTarget: e.currentTarget,\n    nativeEvent: e,\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    persist: () => {\n    }\n  };\n}\nfunction J(e, {\n  threshold: t = 400,\n  captureEvent: u = !1,\n  detect: y = l.Pointer,\n  cancelOnMovement: w = !1,\n  cancelOutsideElement: v = !0,\n  filterEvents: p,\n  onStart: M,\n  onMove: C,\n  onFinish: L,\n  onCancel: b\n} = {}) {\n  const P = s(!1), c = s(!1), I = s(), a = s(), T = s(e), f = s(null), E = h(\n    (n) => (r) => {\n      c.current || R(r) && (p !== void 0 && !p(r) || (u && r.persist(), M?.(r, { context: n }), f.current = j(r), c.current = !0, I.current = r.currentTarget, a.current = setTimeout(() => {\n        T.current && (T.current(r, { context: n }), P.current = !0);\n      }, t)));\n    },\n    [u, p, M, t]\n  ), i = h(\n    (n) => (r, o) => {\n      R(r) && c.current && (f.current = null, u && r.persist(), P.current ? L?.(r, { context: n }) : c.current && b?.(r, { context: n, reason: o ?? d.CancelledByRelease }), P.current = !1, c.current = !1, a.current !== void 0 && clearTimeout(a.current));\n    },\n    [u, L, b]\n  ), m = h(\n    (n) => (r) => {\n      if (C?.(r, { context: n }), w !== !1 && f.current) {\n        const o = j(r);\n        if (o) {\n          const B = w === !0 ? 25 : w, D = {\n            x: Math.abs(o.x - f.current.x),\n            y: Math.abs(o.y - f.current.y)\n          };\n          (D.x > B || D.y > B) && i(n)(r, d.CancelledByMovement);\n        }\n      }\n    },\n    [i, w, C]\n  ), q = h(\n    (n) => {\n      if (e === null)\n        return {};\n      switch (y) {\n        case l.Mouse: {\n          const r = {\n            onMouseDown: E(n),\n            onMouseMove: m(n),\n            onMouseUp: i(n)\n          };\n          return v && (r.onMouseLeave = (o) => {\n            i(n)(o, d.CancelledOutsideElement);\n          }), r;\n        }\n        case l.Touch:\n          return {\n            onTouchStart: E(n),\n            onTouchMove: m(n),\n            onTouchEnd: i(n)\n          };\n        case l.Pointer: {\n          const r = {\n            onPointerDown: E(n),\n            onPointerMove: m(n),\n            onPointerUp: i(n)\n          };\n          return v && (r.onPointerLeave = (o) => i(n)(o, d.CancelledOutsideElement)), r;\n        }\n      }\n    },\n    [e, i, v, y, m, E]\n  );\n  return g(() => {\n    if (!window)\n      return;\n    function n(r) {\n      const o = G(r);\n      i()(o);\n    }\n    return window.addEventListener(\"mouseup\", n), window.addEventListener(\"touchend\", n), window.addEventListener(\"pointerup\", n), () => {\n      window.removeEventListener(\"mouseup\", n), window.removeEventListener(\"touchend\", n), window.removeEventListener(\"pointerup\", n);\n    };\n  }, [i]), g(\n    () => () => {\n      a.current !== void 0 && clearTimeout(a.current);\n    },\n    []\n  ), g(() => {\n    T.current = e;\n  }, [e]), q;\n}\nexport {\n  d as LongPressCallbackReason,\n  l as LongPressEventType,\n  J as useLongPress\n};\n"],
  "mappings": "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",
  "names": ["s", "h", "g"]
}
